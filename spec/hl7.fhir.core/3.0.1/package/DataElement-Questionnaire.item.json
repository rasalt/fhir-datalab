{"resourceType":"DataElement","id":"Questionnaire.item","meta":{"lastUpdated":"2017-04-19T07:44:43.294+10:00"},"url":"http://hl7.org/fhir/DataElement/Questionnaire.item","status":"draft","experimental":true,"stringency":"fully-specified","element":[{"id":"Questionnaire.item","path":"Questionnaire.item","short":"Questions and sections within the Questionnaire","definition":"A particular question, question grouping or display text that is part of the questionnaire.","comment":"The content of the questionnaire is constructed from an ordered, hierarchical collection of items.","min":0,"max":"*","type":[{"code":"BackboneElement"}],"condition":["que-3"],"constraint":[{"key":"ele-1","severity":"error","human":"All FHIR elements must have a @value or children","expression":"hasValue() | (children().count() > id.count())","xpath":"@value|f:*|h:div","source":"Element"},{"key":"que-9","severity":"error","human":"Read-only can't be specified for \"display\" items","expression":"type!='display' or readOnly.empty()","xpath":"not(f:type/@value='display' and f:readOnly)"},{"key":"que-8","severity":"error","human":"Default values can't be specified for groups or display items","expression":"(type!='group' and type!='display') or initial.empty()","xpath":"not(f:type/@value=('group', 'display') and f:*[starts-with(local-name(.), 'initial')])"},{"key":"que-6","severity":"error","human":"Required and repeat aren't permitted for display items","expression":"type!='display' or (required.empty() and repeats.empty())","xpath":"not(f:type/@value='display' and (f:required or f:repeats))"},{"key":"que-5","severity":"error","human":"Only 'choice' items can have options","expression":"(type ='choice' or type = 'open-choice') or (options.empty() and option.empty())","xpath":"f:type/@value=('choice','open-choice') or not(f:option or f:options)"},{"key":"que-4","severity":"error","human":"A question cannot have both option and options","expression":"option.empty() or options.empty()","xpath":"not(f:options and f:option)"},{"key":"que-3","severity":"error","human":"Display items cannot have a \"code\" asserted","expression":"type!='display' or code.empty()","xpath":"not(f:type/@value='display' and f:code)"},{"key":"que-10","severity":"error","human":"Maximum length can only be declared for simple question types","expression":"(type in ('boolean' | 'decimal' | 'integer' | 'string' | 'text' | 'url')) or maxLength.empty()","xpath":"f:type/@value=('boolean', 'decimal', 'integer', 'open-choice', 'string', 'text', 'url') or not(f:maxLength)"},{"key":"que-1","severity":"error","human":"Group items must have nested items, display items cannot have nested items","expression":"(type='group' implies item.empty().not()) and (type.trace('type')='display' implies item.trace('item').empty())","xpath":"not((f:type/@value='group' and not(f:item)) or (f:type/@value='display' and f:item))"}],"mapping":[{"identity":"rim","map":".outboundRelationship[typeCode=COMP].target[classCode=OBS, moodCode=DEF]"}]}]}