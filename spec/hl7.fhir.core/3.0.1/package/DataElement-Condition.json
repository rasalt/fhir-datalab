{"resourceType":"DataElement","id":"Condition","meta":{"lastUpdated":"2017-04-19T07:44:43.294+10:00"},"url":"http://hl7.org/fhir/DataElement/Condition","status":"draft","experimental":true,"stringency":"fully-specified","element":[{"id":"Condition","path":"Condition","short":"Detailed information about conditions, problems or diagnoses","definition":"A clinical condition, problem, diagnosis, or other event, situation, issue, or clinical concept that has risen to a level of concern.","min":0,"max":"*","constraint":[{"key":"dom-2","severity":"error","human":"If the resource is contained in another resource, it SHALL NOT contain nested Resources","expression":"contained.contained.empty()","xpath":"not(parent::f:contained and f:contained)","source":"DomainResource"},{"key":"dom-1","severity":"error","human":"If the resource is contained in another resource, it SHALL NOT contain any narrative","expression":"contained.text.empty()","xpath":"not(parent::f:contained and f:text)","source":"DomainResource"},{"key":"dom-4","severity":"error","human":"If a resource is contained in another resource, it SHALL NOT have a meta.versionId or a meta.lastUpdated","expression":"contained.meta.versionId.empty() and contained.meta.lastUpdated.empty()","xpath":"not(exists(f:contained/*/f:meta/f:versionId)) and not(exists(f:contained/*/f:meta/f:lastUpdated))","source":"DomainResource"},{"key":"dom-3","severity":"error","human":"If the resource is contained in another resource, it SHALL be referred to from elsewhere in the resource","expression":"contained.where(('#'+id in %resource.descendants().reference).not()).empty()","xpath":"not(exists(for $id in f:contained/*/@id return $id[not(ancestor::f:contained/parent::*/descendant::f:reference/@value=concat('#', $id))]))","source":"DomainResource"},{"key":"con-4","severity":"error","human":"If condition is abated, then clinicalStatus must be either inactive, resolved, or remission","expression":"abatement.empty() or (abatement as boolean).not()  or clinicalStatus='resolved' or clinicalStatus='remission' or clinicalStatus='inactive'","xpath":"not(f:abatementBoolean/@value=true() or (not(exists(f:abatementBoolean)) and exists(*[starts-with(local-name(.), 'abatement')])) or f:clinicalStatus/@value=('resolved', 'remission', 'inactive'))"},{"key":"con-3","severity":"error","human":"Condition.clinicalStatus SHALL be present if verificationStatus is not entered-in-error","expression":"verificationStatus='entered-in-error' or clinicalStatus.exists()","xpath":"f:verificationStatus/@value='entered-in-error' or exists(f:clinicalStatus)"}],"mapping":[{"identity":"rim","map":"Entity. Role, or Act"},{"identity":"sct-concept","map":"< 243796009 |Situation with explicit context|:\n246090004 |Associated finding| =\n((< 404684003 |Clinical finding| MINUS\n<< 420134006 |Propensity to adverse reactions| MINUS \n<< 473010000 |Hypersensitivity condition| MINUS \n<< 79899007 |Drug interaction| MINUS\n<< 69449002 |Drug action| MINUS \n<< 441742003 |Evaluation finding| MINUS \n<< 307824009 |Administrative status| MINUS \n<< 385356007 |Tumor stage finding|) OR\n< 272379006 |Event|)"},{"identity":"v2","map":"PPR message"},{"identity":"rim","map":"Observation[classCode=OBS, moodCode=EVN, code=ASSERTION, value<Diagnosis]"},{"identity":"w5","map":"clinical.general"}]}]}