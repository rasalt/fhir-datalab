{"resourceType":"DataElement","id":"Conformance","meta":{"lastUpdated":"2015-10-24T07:41:03.495+11:00"},"url":"http://hl7.org/fhir/DataElement/Conformance","status":"draft","experimental":true,"stringency":"fully-specified","element":[{"path":"Conformance","short":"A conformance statement","definition":"A conformance statement is a set of capabilities of a FHIR Server that may be used as a statement of actual server functionality or a statement of required or desired server implementation.","min":1,"max":"1","type":[{"code":"DomainResource"}],"constraint":[{"key":"cnf-14","severity":"error","human":"Conformance statements of kind 'requirements' do not have software or implementation elements","xpath":"not(exists(f:software) or exists(f:implementation)) or (f:kind/@value != 'requirements')"},{"key":"cnf-1","severity":"error","human":"A Conformance statement SHALL have at least one of REST, messaging or document","xpath":"exists(f:rest) or exists(f:messaging) or exists(f:document)"},{"key":"cnf-15","severity":"error","human":"Conformance statements of kind 'software' do not have implementation elements","xpath":"not(exists(f:implementation)) or (f:kind/@value != 'capability')"},{"key":"cnf-2","severity":"error","human":"A Conformance statement SHALL have at least one of description, software, or implementation","xpath":"count(f:software | f:implementation | f:description) > 0"},{"key":"cnf-3","severity":"error","human":"Messaging end-point is required (and is only permitted) when statement is for an implementation","xpath":"not(exists(f:messaging/f:endpoint)) or f:kind/@value = 'instance'"},{"key":"cnf-7","severity":"error","human":"The set of documents must be unique by the combination of profile & mode","xpath":"count(f:document[f:mode/@value='producer'])=count(distinct-values(f:document[f:mode/@value='producer']/f:profile/f:reference/@value)) and count(f:document[f:mode/@value='consumer'])=count(distinct-values(f:document[f:mode/@value='consumer']/f:profile/f:reference/@value))"},{"key":"cnf-8","severity":"error","human":"There can only be one REST declaration per mode","xpath":"count(f:rest)=count(distinct-values(f:rest/f:mode/@value))"}],"mapping":[{"identity":"w5","map":"conformance.behavior"}]}]}