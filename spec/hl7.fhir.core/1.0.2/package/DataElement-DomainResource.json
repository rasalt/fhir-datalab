{"resourceType":"DataElement","id":"DomainResource","meta":{"lastUpdated":"2015-10-24T07:41:03.495+11:00"},"url":"http://hl7.org/fhir/DataElement/DomainResource","status":"draft","experimental":true,"stringency":"fully-specified","element":[{"path":"DomainResource","short":"A resource with narrative, extensions, and contained resources","definition":"A resource that includes narrative, extensions, and contained resources.","min":0,"max":"*","type":[{"code":"Resource"}],"constraint":[{"key":"dom-4","severity":"error","human":"If a resource is contained in another resource, it SHALL NOT have a meta.versionId or a meta.lastUpdated","xpath":"not(exists(f:contained/*/f:meta/f:versionId)) and not(exists(f:contained/*/f:meta/f:lastUpdated))"},{"key":"dom-3","severity":"error","human":"If the resource is contained in another resource, it SHALL be referred to from elsewhere in the resource","xpath":"not(exists(for $id in f:contained/*/@id return $id[not(ancestor::f:contained/parent::*/descendant::f:reference/@value=concat('#', $id))]))"},{"key":"dom-2","severity":"error","human":"If the resource is contained in another resource, it SHALL NOT contain nested Resources","xpath":"not(parent::f:contained and f:contained)"},{"key":"dom-1","severity":"error","human":"If the resource is contained in another resource, it SHALL NOT contain any narrative","xpath":"not(parent::f:contained and f:text)"}],"mapping":[{"identity":"rim","map":"Entity. Role, or Act"}]}]}