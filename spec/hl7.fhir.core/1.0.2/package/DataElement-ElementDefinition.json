{"resourceType":"DataElement","id":"ElementDefinition","meta":{"lastUpdated":"2015-10-24T07:41:03.495+11:00"},"url":"http://hl7.org/fhir/DataElement/ElementDefinition","status":"draft","experimental":true,"stringency":"fully-specified","element":[{"path":"ElementDefinition","short":"Definition of an element in a resource or extension","definition":"Captures constraints on each element within the resource, profile, or extension.","min":0,"max":"*","type":[{"code":"Element"}],"constraint":[{"key":"eld-13","severity":"error","human":"Types must be unique by the combination of code and profile","xpath":"not(exists(for $type in f:type return $type/preceding-sibling::f:type[f:code/@value=$type/f:code/@value and f:profile/@value = $type/f:profile/@value]))"},{"key":"eld-14","severity":"error","human":"Constraints must be unique by key","xpath":"count(f:constraint) = count(distinct-values(f:constraint/f:key/@value))"},{"key":"eld-11","severity":"error","human":"Binding can only be present for coded elements, string, and uri","xpath":"not(exists(f:binding)) or (count(f:type/f:code) = 0) or  f:type/f:code/@value=('code','Coding','CodeableConcept','Quantity','Extension', 'string', 'uri')"},{"key":"eld-8","severity":"error","human":"Pattern and value are mutually exclusive","xpath":"not(exists(f:*[starts-with(local-name(.), 'pattern')])) or not(exists(f:*[starts-with(local-name(.), 'value')]))"},{"key":"eld-15","severity":"error","human":"default value and meaningWhenMissing are mutually exclusive","xpath":"not(exists(f:*[starts-with(local-name(.), 'fixed')])) or not(exists(f:meaningWhenMissing))"},{"key":"eld-2","severity":"error","human":"Min <= Max","xpath":"not(exists(f:min)) or not(exists(f:max)) or (not(f:max/@value) and not(f:min/@value)) or (f:max/@value = '*') or (number(f:max/@value) >= f:min/@value)"},{"key":"eld-7","severity":"error","human":"Pattern may only be specified if there is one type","xpath":"not(exists(f:*[starts-with(local-name(.), 'pattern')])) or (count(f:type)=1)"},{"key":"eld-6","severity":"error","human":"Fixed value may only be specified if there is one type","xpath":"not(exists(f:*[starts-with(local-name(.), 'fixed')])) or (count(f:type)=1)"},{"key":"eld-5","severity":"error","human":"Either a namereference or a fixed value (but not both) is permitted","xpath":"not(exists(f:nameReference) and exists(f:*[starts-with(local-name(.), 'value')]))"}],"isSummary":true,"mapping":[{"identity":"dex","map":"RetrieveMetadata response"},{"identity":"v2","map":"OM1"},{"identity":"rim","map":"Observation[classCode=OBS, moodCode=DEFN]"},{"identity":"iso11179","map":"Data_Element"}]}]}